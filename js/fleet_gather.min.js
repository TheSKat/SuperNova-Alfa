var colonies=[];var reCalcGatheringStarted=false;function reCalcGathering(){var c,b,a,g,f,e;if(reCalcGatheringStarted){return}reCalcGatheringStarted=true;var d=[0,0,0];for(g in colonies){c=0;b=0;a=colonies[g][3];for(f in d){if(!d.hasOwnProperty(f)){continue}if(jQuery("#ga_"+g+"_"+f+"").is(":checked")){e=Math.min(a,colonies[g][f]);a-=e;d[f]+=e;c+=e;b+=colonies[g][f]}}jQuery("#ga_"+g+"_a").removeClass("negative zero positive").addClass(c<b?(colonies[g][3]?"negative":"zero"):"positive").text(sn_format_number(c))}jQuery("#ga_a_0").html(sn_format_number(d[0]));jQuery("#ga_a_1").html(sn_format_number(d[1]));jQuery("#ga_a_2").html(sn_format_number(d[2]));jQuery("#ga_a_a").html(sn_format_number(d[0]+d[1]+d[2]));reCalcGatheringStarted=false}jQuery(document).ready(function(){reCalcGathering()});